{% extends('backend/template.html.twig') %}

{% block content %}

    {% for label, messages in app.flashes %}
        {% for message in messages %}
            <div class="flash-{{ label }} flash-message">{{ message }}</div>
        {% endfor %}
    {% endfor %}

    {{ form_start(form, { 'attr' : { 'class': 'addForm' } }) }}
        <h2>Add a New Spell</h2>

        {{ form_errors(form) }}

        <label>{{ form_label(form.name) }}<span class="data-type data-type-string">(string)</span></label>
        {{ form_widget(form.name) }}<br><br>

        <label>{{ form_label(form.level) }}<span class="data-type data-type-number">(number)</span></label>
        {{ form_widget(form.level) }}<br><br>

        {{ form_label(form.school) }}<span class="data-type data-type-select-single">(single select)</span></label>
        {{ form_widget(form.school) }}<br><br>

        <label>{{ form_label(form.actionType) }}<span class="data-type data-type-select-single">(single select)</span></label>
        {{ form_widget(form.actionType) }}<br><br>

        <label>{{ form_label(form.range) }}<span class="data-type data-type-string">(string)</span></label>
        {{ form_widget(form.range) }}<br><br>

        <fieldset id="componentsGrouped">
            <legend>{{ form_label(form.components) }}</legend>
            {{ form_widget(form.components) }}
            {{ form_widget(form.componentMaterial) }}
        </fieldset><br>

        <label>{{ form_label(form.duration) }}<span class="data-type data-type-string">(string)</span></label>
        {{ form_widget(form.duration) }}<br><br>

        <label>{{ form_widget(form.concentration) }} Requires Concentration</label><br>
        <label>{{ form_widget(form.ritual) }} Ritual Spell</label><br><br>

        <label>{{ form_label(form.description) }}<span class="data-type data-type-string">(string)</span></label>
        {{ form_widget(form.description) }}<br><br>

        <label>{{ form_label(form.classes) }}<span class="data-type data-type-select-multiple">(select multiple)</span></label>
        {{ form_widget(form.classes) }}<br><br>

        <button type="submit">Add Spell</button>

    {{ form_end(form) }}

    <script>
        $(document).ready(function() {
            $('.select2').select2({
                placeholder: $(this).data('placeholder'),
                allowClear: true,
                width: '100%'
            });
        });
    </script>


{% endblock %}
